"use strict";(self.webpackChunkbrave_talk_app=self.webpackChunkbrave_talk_app||[]).push([[606],{606:(n,e,t)=>{let r;t.r(e),t.d(e,{checkSubscribedUsingSDK:()=>L,provisionOrder:()=>F,recoverCredsIfRequired:()=>B,setTemporaryCredentialCookie:()=>M});const _=new Array(32).fill(void 0);function c(n){return _[n]}_.push(void 0,null,!0,!1);let o=_.length;function i(n){const e=c(n);return function(n){n<36||(_[n]=o,o=n)}(n),e}const a=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});a.decode();let b=new Uint8Array;function s(){return 0===b.byteLength&&(b=new Uint8Array(r.memory.buffer)),b}function u(n,e){return a.decode(s().subarray(n,n+e))}function f(n){o===_.length&&_.push(_.length+1);const e=o;return o=_[e],_[e]=n,e}let w=0;const l=new TextEncoder("utf-8"),d="function"==typeof l.encodeInto?function(n,e){return l.encodeInto(n,e)}:function(n,e){const t=l.encode(n);return e.set(t),{read:n.length,written:t.length}};function g(n,e,t){if(void 0===t){const t=l.encode(n),r=e(t.length);return s().subarray(r,r+t.length).set(t),w=t.length,r}let r=n.length,_=e(r);const c=s();let o=0;for(;o<r;o++){const e=n.charCodeAt(o);if(e>127)break;c[_+o]=e}if(o!==r){0!==o&&(n=n.slice(o)),_=t(_,r,r=o+3*n.length);const e=s().subarray(_+o,_+r);o+=d(n,e).written}return w=o,_}let m=new Int32Array;function y(){return 0===m.byteLength&&(m=new Int32Array(r.memory.buffer)),m}function h(n){return null==n}function p(n){const e=typeof n;if("number"==e||"boolean"==e||null==n)return`${n}`;if("string"==e)return`"${n}"`;if("symbol"==e){const e=n.description;return null==e?"Symbol":`Symbol(${e})`}if("function"==e){const e=n.name;return"string"==typeof e&&e.length>0?`Function(${e})`:"Function"}if(Array.isArray(n)){const e=n.length;let t="[";e>0&&(t+=p(n[0]));for(let r=1;r<e;r++)t+=", "+p(n[r]);return t+="]",t}const t=/\[object ([^\]]+)\]/.exec(toString.call(n));let r;if(!(t.length>1))return toString.call(n);if(r=t[1],"Object"==r)try{return"Object("+JSON.stringify(n)+")"}catch(n){return"Object"}return n instanceof Error?`${n.name}: ${n.message}\n${n.stack}`:r}function k(n,e,t,_){const c={a:n,b:e,cnt:1,dtor:t},o=(...n)=>{c.cnt++;const e=c.a;c.a=0;try{return _(e,c.b,...n)}finally{0==--c.cnt?r.__wbindgen_export_2.get(c.dtor)(e,c.b):c.a=e}};return o.original=c,o}function v(n,e){r._dyn_core__ops__function__FnMut_____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h62637e62b7769ad4(n,e)}function A(n,e,t){r._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h184be52ff1fda8dc(n,e,f(t))}function j(n,e,t,_,c){const o=g(n,r.__wbindgen_malloc,r.__wbindgen_realloc),a=w;var b=h(t)?0:g(t,r.__wbindgen_malloc,r.__wbindgen_realloc),s=w,u=h(_)?0:g(_,r.__wbindgen_malloc,r.__wbindgen_realloc),f=w,l=h(c)?0:g(c,r.__wbindgen_malloc,r.__wbindgen_realloc),d=w;return i(r.initialize(o,a,h(e)?16777215:e?1:0,b,s,u,f,l,d))}function R(n,e){try{return n.apply(this,e)}catch(n){r.__wbindgen_exn_store(f(n))}}const S=new Uint32Array(2),T=new BigUint64Array(S.buffer);class O{static __wrap(n){const e=Object.create(O.prototype);return e.ptr=n,e}__destroy_into_raw(){const n=this.ptr;return this.ptr=0,n}free(){const n=this.__destroy_into_raw();r.__wbg_jssdk_free(n)}refresh_order(n){const e=g(n,r.__wbindgen_malloc,r.__wbindgen_realloc),t=w;return i(r.jssdk_refresh_order(this.ptr,e,t))}submit_receipt(n,e){const t=g(n,r.__wbindgen_malloc,r.__wbindgen_realloc),_=w,c=g(e,r.__wbindgen_malloc,r.__wbindgen_realloc),o=w;return i(r.jssdk_submit_receipt(this.ptr,t,_,c,o))}submit_order_credentials_to_sign(n){const e=g(n,r.__wbindgen_malloc,r.__wbindgen_realloc),t=w;return i(r.jssdk_submit_order_credentials_to_sign(this.ptr,e,t))}fetch_order_credentials(n){const e=g(n,r.__wbindgen_malloc,r.__wbindgen_realloc),t=w;return i(r.jssdk_fetch_order_credentials(this.ptr,e,t))}delete_order_credentials(n){const e=g(n,r.__wbindgen_malloc,r.__wbindgen_realloc),t=w;return i(r.jssdk_delete_order_credentials(this.ptr,e,t))}credential_summary(n){var e=h(n)?0:g(n,r.__wbindgen_malloc,r.__wbindgen_realloc),t=w;return i(r.jssdk_credential_summary(this.ptr,e,t))}order_credential_summary(n,e){const t=g(n,r.__wbindgen_malloc,r.__wbindgen_realloc),_=w;var c=h(e)?0:g(e,r.__wbindgen_malloc,r.__wbindgen_realloc),o=w;return i(r.jssdk_order_credential_summary(this.ptr,t,_,c,o))}prepare_credentials_presentation(n,e){const t=g(n,r.__wbindgen_malloc,r.__wbindgen_realloc),_=w;var c=h(e)?0:g(e,r.__wbindgen_malloc,r.__wbindgen_realloc),o=w;return i(r.jssdk_prepare_credentials_presentation(this.ptr,t,_,c,o))}present_order_credentials(n,e,t){const _=g(n,r.__wbindgen_malloc,r.__wbindgen_realloc),c=w;var o=h(e)?0:g(e,r.__wbindgen_malloc,r.__wbindgen_realloc),a=w,b=h(t)?0:g(t,r.__wbindgen_malloc,r.__wbindgen_realloc),s=w;return i(r.jssdk_present_order_credentials(this.ptr,_,c,o,a,b,s))}present_credentials(n,e){var t=h(n)?0:g(n,r.__wbindgen_malloc,r.__wbindgen_realloc),_=w,c=h(e)?0:g(e,r.__wbindgen_malloc,r.__wbindgen_realloc),o=w;return i(r.jssdk_present_credentials(this.ptr,t,_,c,o))}}function U(){const n={};return n.wbg={},n.wbg.__wbindgen_object_drop_ref=function(n){i(n)},n.wbg.__wbindgen_string_new=function(n,e){return f(u(n,e))},n.wbg.__wbg_instanceof_ChromeWindow_d4474cd7f55f8d1b=function(n){return c(n)instanceof Window},n.wbg.__wbg_chrome_1e13d52626a36e15=function(n){const e=c(n).chrome;return h(e)?0:f(e)},n.wbg.__wbg_braveSkus_e9b012706f7cd7ec=function(n){const e=c(n).braveSkus;return h(e)?0:f(e)},n.wbg.__wbg_fetchordercredentials_7e9edc7e79eb62bd=function(n,e,t){return f(c(n).fetch_order_credentials(u(e,t)))},n.wbg.__wbg_instanceof_Headers_0f78d283e27f0cf5=function(n){return c(n)instanceof Headers},n.wbg.__wbg_entries_6ab4bb84cdd5911a=function(n){return f(c(n).entries())},n.wbg.__wbindgen_json_serialize=function(n,e){const t=c(e),_=g(JSON.stringify(void 0===t?null:t),r.__wbindgen_malloc,r.__wbindgen_realloc),o=w;y()[n/4+1]=o,y()[n/4+0]=_},n.wbg.__wbg_jssdk_new=function(n){return f(O.__wrap(n))},n.wbg.__wbg_credentialsummary_c2213438fbdde614=function(n,e,t){return f(c(n).credential_summary(0===e?void 0:u(e,t)))},n.wbg.__wbindgen_string_get=function(n,e){const t=c(e),_="string"==typeof t?t:void 0;var o=h(_)?0:g(_,r.__wbindgen_malloc,r.__wbindgen_realloc),i=w;y()[n/4+1]=i,y()[n/4+0]=o},n.wbg.__wbg_refreshorder_7a022601e6367311=function(n,e,t){return f(c(n).refresh_order(u(e,t)))},n.wbg.__wbindgen_error_new=function(n,e){return f(new Error(u(n,e)))},n.wbg.__wbindgen_cb_drop=function(n){const e=i(n).original;return 1==e.cnt--&&(e.a=0,!0)},n.wbg.__wbindgen_number_new=function(n){return f(n)},n.wbg.__wbg_BigInt_1a499fbb5f402f4c=function(n,e){S[0]=n,S[1]=e;const t=T[0];return f(BigInt(t))},n.wbg.__wbindgen_object_clone_ref=function(n){return f(c(n))},n.wbg.__wbindgen_is_undefined=function(n){return void 0===c(n)},n.wbg.__wbg_set_e93b31d47b90bff6=function(n,e,t){c(n)[i(e)]=i(t)},n.wbg.__wbg_new_693216e109162396=function(){return f(new Error)},n.wbg.__wbg_stack_0ddaca5d1abfb52f=function(n,e){const t=g(c(e).stack,r.__wbindgen_malloc,r.__wbindgen_realloc),_=w;y()[n/4+1]=_,y()[n/4+0]=t},n.wbg.__wbg_error_09919627ac0992f5=function(n,e){try{console.error(u(n,e))}finally{r.__wbindgen_free(n,e)}},n.wbg.__wbg_self_86b4b13392c7af56=function(){return R((function(){return f(self.self)}),arguments)},n.wbg.__wbg_crypto_b8c92eaac23d0d80=function(n){return f(c(n).crypto)},n.wbg.__wbg_msCrypto_9ad6677321a08dd8=function(n){return f(c(n).msCrypto)},n.wbg.__wbg_static_accessor_MODULE_452b4680e8614c81=function(){return f(module)},n.wbg.__wbg_require_f5521a5b85ad2542=function(n,e,t){return f(c(n).require(u(e,t)))},n.wbg.__wbg_getRandomValues_dd27e6b0652b3236=function(n){return f(c(n).getRandomValues)},n.wbg.__wbg_getRandomValues_e57c9b75ddead065=function(n,e){c(n).getRandomValues(c(e))},n.wbg.__wbg_randomFillSync_d2ba53160aec6aba=function(n,e,t){var r,_;c(n).randomFillSync((r=e,_=t,s().subarray(r/1,r/1+_)))},n.wbg.__wbg_clearTimeout_65417660fe82f08d="function"==typeof clearTimeout?clearTimeout:("clearTimeout",()=>{throw new Error("clearTimeout is not defined")}),n.wbg.__wbg_setTimeout_131fc254e1bd5624=function(){return R((function(n,e){return setTimeout(c(n),e)}),arguments)},n.wbg.__wbg_log_75fc43480a5907a7=function(n,e){console.log(u(n,e))},n.wbg.__wbg_log_a73f6bdd88fae982=function(n,e,t,r,_,c,o,i){console.log(u(n,e),u(t,r),u(_,c),u(o,i))},n.wbg.__wbg_mark_e32edf3b52687c6a=function(n,e){performance.mark(u(n,e))},n.wbg.__wbg_measure_0c2a5c5e55e16643=function(n,e,t,r){performance.measure(u(n,e),u(t,r))},n.wbg.__wbg_instanceof_Window_42f092928baaee84=function(n){return c(n)instanceof Window},n.wbg.__wbg_document_15b2e504fb1556d6=function(n){const e=c(n).document;return h(e)?0:f(e)},n.wbg.__wbg_location_312161fbd0cf64f0=function(n){return f(c(n).location)},n.wbg.__wbg_localStorage_ef2b9820e472266b=function(){return R((function(n){const e=c(n).localStorage;return h(e)?0:f(e)}),arguments)},n.wbg.__wbg_fetch_9a5cb9d8a96004d0=function(n,e){return f(c(n).fetch(c(e)))},n.wbg.__wbg_clear_b482199f500c8180=function(){return R((function(n){c(n).clear()}),arguments)},n.wbg.__wbg_get_3d45b8cc43b62226=function(){return R((function(n,e,t,_){const o=c(e)[u(t,_)];var i=h(o)?0:g(o,r.__wbindgen_malloc,r.__wbindgen_realloc),a=w;y()[n/4+1]=a,y()[n/4+0]=i}),arguments)},n.wbg.__wbg_set_b500f6a4cf363be5=function(){return R((function(n,e,t,r,_){c(n)[u(e,t)]=u(r,_)}),arguments)},n.wbg.__wbg_hostname_b07f630991087fd6=function(){return R((function(n,e){const t=g(c(e).hostname,r.__wbindgen_malloc,r.__wbindgen_realloc),_=w;y()[n/4+1]=_,y()[n/4+0]=t}),arguments)},n.wbg.__wbg_set_b5c36262f65fae92=function(){return R((function(n,e,t,r,_){c(n).set(u(e,t),u(r,_))}),arguments)},n.wbg.__wbg_instanceof_Response_240e67e5796c3c6b=function(n){return c(n)instanceof Response},n.wbg.__wbg_status_9067c6a4fdd064c9=function(n){return c(n).status},n.wbg.__wbg_headers_aa309e800cf75016=function(n){return f(c(n).headers)},n.wbg.__wbg_arrayBuffer_ccd485f4d2929b08=function(){return R((function(n){return f(c(n).arrayBuffer())}),arguments)},n.wbg.__wbg_instanceof_HtmlDocument_508cdf1699f6d222=function(n){return c(n)instanceof HTMLDocument},n.wbg.__wbg_setcookie_6d064956dc7518e9=function(){return R((function(n,e,t){c(n).cookie=u(e,t)}),arguments)},n.wbg.__wbg_headers_0aeca08d4e61e2e7=function(n){return f(c(n).headers)},n.wbg.__wbg_newwithstrandinit_de7c409ec8538105=function(){return R((function(n,e,t){return f(new Request(u(n,e),c(t)))}),arguments)},n.wbg.__wbg_new_ee1a3da85465d621=function(){return f(new Array)},n.wbg.__wbg_newnoargs_971e9a5abe185139=function(n,e){return f(new Function(u(n,e)))},n.wbg.__wbg_next_3d0c4cc33e7418c9=function(){return R((function(n){return f(c(n).next())}),arguments)},n.wbg.__wbg_done_e5655b169bb04f60=function(n){return c(n).done},n.wbg.__wbg_value_8f901bca1014f843=function(n){return f(c(n).value)},n.wbg.__wbg_call_33d7bcddbbfa394a=function(){return R((function(n,e){return f(c(n).call(c(e)))}),arguments)},n.wbg.__wbg_new_e6a9fecc2bf26696=function(){return f(new Object)},n.wbg.__wbg_self_fd00a1ef86d1b2ed=function(){return R((function(){return f(self.self)}),arguments)},n.wbg.__wbg_window_6f6e346d8bbd61d7=function(){return R((function(){return f(window.window)}),arguments)},n.wbg.__wbg_globalThis_3348936ac49df00a=function(){return R((function(){return f(globalThis.globalThis)}),arguments)},n.wbg.__wbg_global_67175caf56f55ca9=function(){return R((function(){return f(global.global)}),arguments)},n.wbg.__wbg_set_64cc39858b2ec3f1=function(n,e,t){c(n)[e>>>0]=i(t)},n.wbg.__wbg_new_3ee7ebe9952c1fbd=function(n,e){return f(new Error(u(n,e)))},n.wbg.__wbg_call_65af9f665ab6ade5=function(){return R((function(n,e,t){return f(c(n).call(c(e),c(t)))}),arguments)},n.wbg.__wbg_getTime_58b0bdbebd4ef11d=function(n){return c(n).getTime()},n.wbg.__wbg_new0_adda2d4bcb124f0a=function(){return f(new Date)},n.wbg.__wbg_new_52205195aa880fc2=function(n,e){try{var t={a:n,b:e};const _=new Promise(((n,e)=>{const _=t.a;t.a=0;try{return function(n,e,t,_){r.wasm_bindgen__convert__closures__invoke2_mut__h876c8e4fd4b5e563(n,e,f(t),f(_))}(_,t.b,n,e)}finally{t.a=_}}));return f(_)}finally{t.a=t.b=0}},n.wbg.__wbg_resolve_0107b3a501450ba0=function(n){return f(Promise.resolve(c(n)))},n.wbg.__wbg_then_18da6e5453572fc8=function(n,e){return f(c(n).then(c(e)))},n.wbg.__wbg_then_e5489f796341454b=function(n,e,t){return f(c(n).then(c(e),c(t)))},n.wbg.__wbg_buffer_34f5ec9f8a838ba0=function(n){return f(c(n).buffer)},n.wbg.__wbg_newwithbyteoffsetandlength_88fdad741db1b182=function(n,e,t){return f(new Uint8Array(c(n),e>>>0,t>>>0))},n.wbg.__wbg_new_cda198d9dbc6d7ea=function(n){return f(new Uint8Array(c(n)))},n.wbg.__wbg_set_1a930cfcda1a8067=function(n,e,t){c(n).set(c(e),t>>>0)},n.wbg.__wbg_length_51f19f73d6d9eff3=function(n){return c(n).length},n.wbg.__wbg_newwithlength_66e5530e7079ea1b=function(n){return f(new Uint8Array(n>>>0))},n.wbg.__wbg_subarray_270ff8dd5582c1ac=function(n,e,t){return f(c(n).subarray(e>>>0,t>>>0))},n.wbg.__wbg_set_2762e698c2f5b7e0=function(){return R((function(n,e,t){return Reflect.set(c(n),c(e),c(t))}),arguments)},n.wbg.__wbindgen_debug_string=function(n,e){const t=g(p(c(e)),r.__wbindgen_malloc,r.__wbindgen_realloc),_=w;y()[n/4+1]=_,y()[n/4+0]=t},n.wbg.__wbindgen_throw=function(n,e){throw new Error(u(n,e))},n.wbg.__wbindgen_memory=function(){return f(r.memory)},n.wbg.__wbindgen_closure_wrapper1449=function(n,e,t){return f(k(n,e,449,v))},n.wbg.__wbindgen_closure_wrapper2373=function(n,e,t){return f(k(n,e,711,A))},n}async function W(n){void 0===n&&(n=new URL(t(539),t.b));const e=U();("string"==typeof n||"function"==typeof Request&&n instanceof Request||"function"==typeof URL&&n instanceof URL)&&(n=fetch(n));const{instance:_,module:c}=await async function(n,e){if("function"==typeof Response&&n instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(n,e)}catch(e){if("application/wasm"==n.headers.get("Content-Type"))throw e;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",e)}const t=await n.arrayBuffer();return await WebAssembly.instantiate(t,e)}{const t=await WebAssembly.instantiate(n,e);return t instanceof WebAssembly.Instance?{instance:t,module:n}:t}}(await n,e);return function(n,e){return r=n.exports,W.__wbindgen_wasm_module=e,m=new Int32Array,b=new Uint8Array,r}(_,c)}const C=W;const $=async function(){return await C(undefined),await j.apply(this,arguments)};var E=t(824);let I;const x=async()=>{if(I)return I;const n=null!=="staging"?"staging":"local";q(`calling initialize(${n}, false)...`);const e=await $(E.yG?"development":n,!1,E.yv?"error":"info");return I=e,e};async function F(n){let e;try{const t=await x();e="refresh_order",q("calling refresh_order...");const r=await t.refresh_order(n);r&&"paid"===r.status&&(e="fetch_order_credentials",q("calling fetch_order_credentials..."),await t.fetch_order_credentials(n))}catch(n){throw D(`${e} fails`,n),n}}async function B(n){let e;try{const t=await x();e="refresh_order",q("calling refresh_order...");const r=await t.refresh_order(n);if(q("order status is ",r.status),!["paid","canceled"].includes(r.status))throw new Error("Order not paid.");await L()||(e="fetch_order_credentials",q("calling fetch_order_credentials..."),await t.fetch_order_credentials(n))}catch(n){throw D(`${e} fails`,n),n}}async function L(){try{const n=await x();q("calling credential_summary...");const e=await n.credential_summary();if(q("credential_summary returns",e),e&&e.active)return!0}catch(n){D("credential_summary fails",n)}return!1}async function M(){try{const n=await x();q("calling present_credentials...");const e=await n.present_credentials();if(q("present_credentials returns",e),e)return!0}catch(n){D("present_credentials fails",n)}return!1}function q(n,...e){console.log(`skus-sdk: ${n}`,...e)}function D(n,...e){console.error(`!!! skus-sdk: ${n}`,...e)}},539:(n,e,t)=>{n.exports=t.p+"static/skus_sdk_bg.de8f33394808711bab7b.wasm"}}]);